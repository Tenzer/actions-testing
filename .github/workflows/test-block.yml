---
name: Test block rerunning old workflow runs

on:
  workflow_dispatch:
    inputs:
      delay:
        description: How long to pretend the deploy takes in seconds
        required: true

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}

jobs:
  deploy:
    runs-on: ubuntu-24.04

    steps:
      - name: Check this is the latest workflow run
        uses: Tenzer/block-old-workflow-rerun@0d5ce5450bb03e0395b4d6a24c258df4ec792c5f
        with:
          branch: main

      - name: Deploy
        run: sleep ${{ github.event.inputs.version }}
