---
name: Test block rerunning old workflow runs

on:
  workflow_dispatch:
    inputs:
      delay:
        description: How long to pretend the deploy takes in seconds
        required: true

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}

jobs:
  deploy:
    runs-on: ubuntu-24.04

    steps:
      - name: Check this is the latest workflow run
        uses: Tenzer/block-old-workflow-rerun@2f5a5ca323cc2f9c9394a4268fa6b30b0f970021
        with:
          branch: main

      - name: Deploy
        run: sleep ${{ github.event.inputs.delay }}
