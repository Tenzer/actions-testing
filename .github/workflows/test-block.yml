---
name: Test block rerunning old workflow runs

on:
  workflow_dispatch:
    inputs:
      delay:
        description: How long to pretend the deploy takes in seconds
        required: true

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}

jobs:
  deploy:
    runs-on: ubuntu-24.04

    steps:
      - name: Check this is the latest workflow run
        uses: Tenzer/block-old-workflow-rerun@c9fc9107d3c1a448f2edbaf1af1e7a5b0e5b1fa9
        with:
          branch: main

      - name: Deploy
        run: sleep ${{ github.event.inputs.version }}
